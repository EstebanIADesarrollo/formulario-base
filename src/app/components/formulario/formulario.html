<div class="form-container">
  <h2>Formulario de pagos</h2>

  <div *ngIf="mostrarMensajeValidacion() && form.invalid" class="validation-message" [class.animate-message]="triggerAnimation()">
    Debes diligenciar los campos requeridos*
  </div>

  <form #form="ngForm" (ngSubmit)="enviar()" [class.form-submitted]="formSubmitted()">
    <mat-form-field appearance="fill" class="full-width-desktop">
      <mat-label>Documento de identidad del inscrito</mat-label>
      <input matInput [ngModel]="documento()" (ngModelChange)="documento.set($event)" name="documento" required pattern="[0-9]{10}">
      <mat-error *ngIf="form.controls['documento']?.errors?.['pattern']">
        El campo debe tener 10 dígitos
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Nombre</mat-label>
      <input matInput [ngModel]="nombre()" (ngModelChange)="nombre.set($event)" name="nombre" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Apellido</mat-label>
      <input matInput [ngModel]="apellido()" (ngModelChange)="apellido.set($event)" name="apellido" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Correo electrónico</mat-label>
      <input matInput [ngModel]="correo()" (ngModelChange)="correo.set($event)" name="correo" required email>
      <mat-error *ngIf="form.controls['correo']?.errors?.['email']">
        El correo electrónico no es válido
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>EPS</mat-label>
      <input matInput [ngModel]="eps()" (ngModelChange)="eps.set($event)" name="eps" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Acudiente Uno</mat-label>
      <input matInput [ngModel]="acudienteUno()" (ngModelChange)="acudienteUno.set($event)" name="acudienteUno" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Teléfono Acudiente Uno</mat-label>
      <input matInput [ngModel]="telefonoAcudienteUno()" (ngModelChange)="telefonoAcudienteUno.set($event)" name="telefonoAcudienteUno" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Acudiente Dos (opcional)</mat-label>
      <input matInput [ngModel]="acudienteDos()" (ngModelChange)="acudienteDos.set($event)" name="acudienteDos">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Teléfono Acudiente Dos</mat-label>
      <input matInput [ngModel]="telefonoAcudienteDos()" (ngModelChange)="telefonoAcudienteDos.set($event)" name="telefonoAcudienteDos">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Plan</mat-label>
      <mat-select [ngModel]="plan()" (ngModelChange)="plan.set($event)" name="plan" required>
        <mat-option *ngFor="let opcion of opcionesPlan" [value]="opcion.plan">
          {{opcion.plan}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Fecha Inicial</mat-label>
      <input matInput [matDatepicker]="pickerInicial" [ngModel]="fechaInicial()" (ngModelChange)="fechaInicial.set($event)" name="fechaInicial" required>
      <mat-datepicker-toggle matSuffix [for]="pickerInicial"></mat-datepicker-toggle>
      <mat-datepicker #pickerInicial></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Fecha Final</mat-label>
      <input matInput [matDatepicker]="pickerFinal" [ngModel]="fechaFinal()" (ngModelChange)="fechaFinal.set($event)" name="fechaFinal" disabled required>
      <mat-datepicker-toggle matSuffix [for]="pickerFinal" disabled></mat-datepicker-toggle>
      <mat-datepicker #pickerFinal></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Adicionales</mat-label>
      <mat-select [ngModel]="adicionales()" (ngModelChange)="adicionales.set($event)" name="adicionales">
        <mat-option *ngFor="let opcion of opcionesAdicionales" [value]="opcion.nombre">
          {{opcion.nombre}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">Enviar</button>
  </form>
</div>
